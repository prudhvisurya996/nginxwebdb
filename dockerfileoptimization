# Use a smaller node base image
FROM node:18-alpine

# Set the working directory
WORKDIR /usr/src/app

# Copy only the package.json and package-lock.json first to take advantage of Docker cache
COPY package*.json ./

# Install all dependencies (both production and development)
RUN npm install

# Copy the rest of the application code
COPY . .

# Use a volume for node_modules to keep it outside the container image
VOLUME /usr/src/app/node_modules

# Expose the port the app will run on
EXPOSE 3000

# Run the app using npm
CMD ["npm", "start"]



  .dockerignore add below data
  node_modules
logs
tests
.git


docker run -v /usr/src/app/node_modules -p 3000:3000 my-node-app

